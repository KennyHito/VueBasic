<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>å¤©æ°”æ¡ˆä¾‹_ç›‘è§†å±æ€§</title>
  <!-- å¼•å…¥vue -->
  <script type="text/javascript" src="../js/vue.js"></script>
  <!-- æµè§ˆå™¨ä¹¦ç­¾æ çš„å°å›¾æ ‡è®¾ç½® -->
  <link rel="icon" href="../img/favicon.ico" />
</head>
<!-- 
  ç›‘è§†å±æ€§watch:
      1.å½“è¢«ç›‘è§†çš„å±æ€§å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨ï¼Œè¿›è¡Œç›¸å…³æ“ä½œ
      2.ç›‘è§†çš„å±æ€§å¿…é¡»å­˜åœ¨ï¼Œæ‰èƒ½è¿›è¡Œç›‘è§†ï¼ï¼
      3.ç›‘è§†çš„ä¸¤ç§å†™æ³•ï¼š
        a.new Vueå‹ä¼ å…¥watché…ç½®
        b.é€šè¿‡vm.$watchç›‘è§†
 -->

<body>
  <!-- å®¹å™¨ -->
  <div id="root">
    <h4>ä»Šæ—¥å¤©æ°”å¾ˆ{{weatherInfo}}</h4>
    <button @click="changeWeather">åˆ‡æ¢å¤©æ°”</button>
  </div>

  <script type="text/javascript">
    Vue.config.productionTip = false; //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º
    const vm = new Vue({
      el: "#root",
      data: {
        isHot: true
      },
      computed: {
        weatherInfo() {
          return this.isHot ? "ç‚çƒ­" : "å‡‰çˆ½"
        }
      },
      methods: {
        changeWeather() {
          this.isHot = !this.isHot;
        }
      },
      // ç›‘å¬å±æ€§æ–¹æ³•ä¸€:
      watch: {
        isHot: {
          immediate: true,//åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹
          // handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶ã€‚
          handler(newValue, oldValue) {
            //newValueå’ŒoldValue ä¸ä¸€å®šéè¦ä½¿ç”¨è¿™ä¸ªä¸¤ä¸ªå•è¯,å¯ä»¥ç”¨a,b,c,dç­‰ç­‰
            console.log("isHotè¢«ä¿®æ”¹äº†", newValue, oldValue)
          }
        },

        // ğŸ“¢ç®€å†™,å‰ææ˜¯ä¸èƒ½æœ‰immediateç­‰é…ç½®é¡¹,åªæœ‰Handleræ‰å¯ä»¥ç®€å†™,å¦åˆ™ä¸å…è®¸ç®€å†™!
        // isHot(newValue, oldValue) {
        //   console.log("isHotè¢«ä¿®æ”¹äº†")
        // }
      }
    });
    // ç›‘å¬å±æ€§æ–¹æ³•äºŒ:
    // vm.$watch("isHot", {
    //   immediate: true,//åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹
    //   // handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶ã€‚
    //   handler(newValue, oldValue) {
    //     console.log("isHotè¢«ä¿®æ”¹äº†", newValue, oldValue)
    //   }
    // })

    // ğŸ“¢ç®€å†™,å‰ææ˜¯ä¸èƒ½æœ‰immediateç­‰é…ç½®é¡¹,åªæœ‰Handleræ‰å¯ä»¥ç®€å†™,å¦åˆ™ä¸å…è®¸ç®€å†™!
    // vm.$watch("isHot", function (newValue, oldValue) {
    //   console.log("isHotè¢«ä¿®æ”¹äº†", newValue, oldValue)
    // })

  </script>
</body>

</html>