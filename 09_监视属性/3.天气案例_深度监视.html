<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>å¤©æ°”æ¡ˆä¾‹_æ·±åº¦ç›‘è§†</title>
  <!-- å¼•å…¥vue -->
  <script type="text/javascript" src="../js/vue.js"></script>
  <!-- æµè§ˆå™¨ä¹¦ç­¾æ çš„å°å›¾æ ‡è®¾ç½® -->
  <link rel="icon" href="../img/favicon.ico" />
</head>
<!-- 
  æ·±åº¦ç›‘è§†ï¼š
    (1).vueä¸­çš„watché»˜è®¤ä¸ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼ˆä¸€å±‚ï¼‰ã€‚
    (2).é…ç½®deep:trueå¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼æ”¹å˜ï¼ˆå¤šå±‚ï¼‰ã€‚
  å¤‡æ³¨ï¼š
    (1).vueè‡ªèº«å¯ä»¥ç›‘æµ‹å¯¹è±¡å†…éƒ¨å€¼çš„æ”¹å˜ï¼Œä½†vueæä¾›çš„watché»˜è®¤ä¸å¯ä»¥ï¼
    (2).ä½¿ç”¨watchæ ¹æ®æ•°æ®çš„å…·ä¼‘ç»“æ„ï¼Œå†³å®šæ˜¯å¦é‡‡ç”¨æ·±åº¦ç›‘è§†ã€‚
 -->

<body>
  <!-- å®¹å™¨ -->
  <div id="root">
    <h4>ä»Šæ—¥å¤©æ°”å¾ˆ{{weatherInfo}}</h4>
    <button @click="changeWeather">åˆ‡æ¢å¤©æ°”</button>
    <hr>
    <h4>açš„å€¼æ˜¯:{{numbers.a}}</h4>
    <button @click="numbers.a++">aåŠ 1</button>
    <hr>
    <h4>bçš„å€¼æ˜¯:{{numbers.b}}</h4>
    <button @click="numbers.b++">båŠ 1</button>
  </div>

  <script type="text/javascript">
    Vue.config.productionTip = false; //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º
    const vm = new Vue({
      el: "#root",
      data: {
        isHot: true,
        numbers: {
          a: 1,
          b: 1
        }
      },
      computed: {
        weatherInfo() {
          return this.isHot ? "ç‚çƒ­" : "å‡‰çˆ½"
        }
      },
      methods: {
        changeWeather() {
          this.isHot = !this.isHot;
        }
      },
      // ç›‘å¬å±æ€§æ–¹æ³•ä¸€:
      watch: {
        isHot: {
          immediate: true,//åˆå§‹åŒ–æ—¶è®©handlerè°ƒç”¨ä¸€ä¸‹
          // handlerä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Ÿå½“isHotå‘ç”Ÿæ”¹å˜æ—¶ã€‚
          handler(newValue, oldValue) {
            console.log("isHotè¢«ä¿®æ”¹äº†", newValue, oldValue)
          }
        },

        // ğŸ“¢: ç›‘è§†å¤šçº§ç»“æ„ä¸­æŸä¸ªå±æ€§çš„å˜åŒ–,è‹¥éœ€è¦ç›‘å¬æ›´å¤šå±æ€§å°±ä¸é€‚åˆäº†ã€‚
        "numbers.a": {
          handler(newValue, oldValue) {
            console.log("numbers.aè¢«ä¿®æ”¹äº†")
          }
        },

        // ğŸ“¢: ç›‘è§†å¤šçº§ç»“æ„ä¸­æ‰€æœ‰å±æ€§çš„å˜åŒ–
        numbers: {
          deep: true,//æ·±åº¦
          handler() {
            console.log("numbersè¢«ä¿®æ”¹äº†")
          }
        }

      }
    });

  </script>
</body>

</html>